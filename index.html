<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
       <!-- CSS Components -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/199fd71158.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="Assets/style.css">
  
</head>
<body>

    <div class="container" id="weatherContainer">
      <div class="container border border-dark" >
      <div class="row">
      <div class="col-lg-12 header alert-primary border border-dark">Weather Dashboard</div>
      </div>
       <div class="row">
       <div class="col-lg-4 border border-dark" id="searchCol">
           <div>Search for a city:</div>
           <div>
            <div class="container">
<!-- autocomplete location search inputs -->

<!-- <div class="form-group"> -->
                <input type="text" class="form-control" id="search_input" placeholder="Type city..."></div>
                <input type="hidden" id="latitude_input" />
                <input type="hidden" id="longitude_input" /></div>
               <button id="citySearch" style="margin: 10px;">Search</button>
<!-- Display lat and long -->
                <div class="latlong-view">
                    <p><b></b><span id="latitude-view" style="visibility: hidden;"></span></p>
                    <p><b></b><span id="longitutde-view" style="visibility: hidden;"></span></p>

         <div><h4>Previous Cities Searched</h4></div></div>
         <div class="container" id="prevCityList">
          <div class="prevCity alert-primary border border-dark"> </div></div>
         
            </div>
        <div class="col-lg-8 border border-dark">
         <div id="currentInfo">
           <h2>Currently in City: <div id="cityNameLabel" style="color: blue;"><br></div></h2>
           <hr>
          <div>Current Time: <span id="currentDate"></span></div> 
         <div>Temperature: <span id="temp"></span></div>
         <div>Humidity: <span id="humidity"></span></div>
         <div>Wind Speed: <span id="wind"></span></div>
         <div>UV Index: <span id="uvi"></span></div>
         <hr>

        <div id="fiveDayForecast"><h2>Five Day Forecast</h2></div>
         <hr>
         <div class="row" >
           <div class="col fBox" id="fBox0"></div>
           <div class="col fBox" id="fBox1"></div>
           <div class="col fBox" id="fBox2"></div>
           <div class="col fBox" id="fBox3"></div>
           <div class="col fBox" id="fBox4"></div>
           
         <div>
         </div>
    </div>
    
    </row>
 </div>
 </div>
 </div>
 </div>
</div> 
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=AIzaSyA5iZSuKAK0n-F7XktBgeLMAeY69bLd2Ls"> </script> 


<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

<script src="Assets/script.js"></script> 

    </html>
    </body>
    </html>


<!--     
  latData = document.getElementById("latitude_input").value;
  longData = document.getElementById("longitude_input").value;
  var forecastDate = "";
  var APIKey = "bc5f98e2e0cea0c6e28a5a426c201efa";
  var queryURL =
    "https://api.openweathermap.org/data/2.5/onecall?lat=" +
    latData +
    "&lon=" +
    longData +
    "&exclude=&units=imperial&appid=" +
    APIKey;

  $.ajax({
    url: queryURL,
    method: "GET",
  }).then(function (response) {
    console.log(response);
    console.log(response.daily);
    console.log(response.daily[0]);
    var date = new Date(response.daily[0].dt * 1000);
    console.log(date);
    document.getElementById("cityNameLabel").innerHTML = cityName;
    document.getElementById("currentDate").innerHTML = date;
    document.getElementById("temp").innerHTML = response.current.temp;
    document.getElementById("humidity").innerHTML = response.current.humidity;
    document.getElementById("wind").innerHTML = response.current.wind_speed;
    document.getElementById("uvi").innerHTML = response.current.uvi;

    function saveCityArr() {
      if ("localStorage" in window && window["localStorage"] !== null) {
        var savedCity = {
          city: cityName,
          lat: response.lat,
          long: response.lon,
        };
        // savedCities = localStorage.getItem('savedCity');
        // savedCities = savedCities ? JSON.parse(savedCities) : [];
        savedCities.push(savedCity);

        localStorage.setItem("savedCity", JSON.stringify(savedCities));
        //    alert("The data was saved.");
        console.log(savedCities);
      }
    }

    saveCityArr();
    
    // Render 5 Day Forecast Weather Details

    for (var i = 0; i < 6; i++) {
      $(".fBox").css("visibility", "visible");
      //logging the forecast Information
      var date = new Date(response.daily[i].dt * 1000);
      console.log(date);
      console.log("Clouds: " + response.daily[i].clouds);
      console.log(
        "http://openweathermap.org/img/w/" +
          response.daily[i].weather[0].icon +
          ".png"
      );
      console.log("Temp: " + response.daily[i].temp.day + " F");
      console.log("Humidity: " + response.daily[i].humidity);

      //Converts Unix date to Formatted Date
      var UNIX_timestamp = response.daily[i].dt;
      var a = new Date(UNIX_timestamp * 1000);
      var months = [
        "1",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "10",
        "11",
        "12",
      ];
      var year = a.getFullYear();
      var month = months[a.getMonth()];
      var date = a.getDate();
      var hour = a.getHours();
      var min = a.getMinutes();
      var sec = a.getSeconds();
      var time = month + "/" + date + "/" + year;
      var forecastDate = time;

      //Creating the Forecast Boxes
      var newBox = $("<div>");
      var newCol = $("<col>");
      //  $("newCol").attr('id', "forecast-" + i)
      var newDate = $("<div>");
      newDate.text(time);
      $("#fBox" + i)
        .append(newDate)
        .css("font-weight", "bolder");

      $("#fBox" + i)
        .append(
          "<img id='theImg' src='http://openweathermap.org/img/w/" +
            response.daily[i].weather[0].icon +
            ".png'/>"
        )
        .css("align-content", "center");

      var newTemp = $("<div>");
      newTemp.text("Temp: " + response.daily[i].temp.day + " F");
      $("#fBox" + i).append(newTemp);
      var newHumidity = $("<div>");
      newHumidity.text("Humidity: " + response.daily[i].humidity + "%");
      $("#fBox" + i).append(newHumidity);
    }
  }); -->